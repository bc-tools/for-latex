\documentclass{../main/main}

\input{../preamble.cfg.tex}

\usepackage{../admonitions/admonitions.cls}
\usepackage{../listing-latex/listing-latex.cls}
\usepackage{../macroenv/macroenv.cls}
\usepackage{../showcase/showcase.cls}

% TESTING LOCAL IMPLEMENTATION %

\usepackage{version-n-change.cls}


\begin{document}

\section{Indiquer les changements}
\label{tutodoc-changes}

Afin de faciliter le suivi d'un projet, il est indispensable de fournir un historique indiquant les changements effectués lors de la publication d'une nouvelle version.



\subsection{À quel moment ?}
\label{tutodoc-changes-when}

On peut dater et/ou versionner quelque chose.


\begin{tdocexa}[Dater des nouveautés]
    La macro \tdocmacro{tdocdate} permet d'indiquer une date dans la marge comme dans l'exemple suivant.

    \tdoclatexshow{examples/version-n-change/dating.tex}
\end{tdocexa}


\begin{tdocexa}[Versionner des nouveautés en les datant éventuellement]
    Associer un numéro de version à une nouveauté se fait via la macro \tdocmacro{tdocversion}, la couleur et la date étant des arguments optionnels.

    \tdoclatexshow{examples/version-n-change/versioning.tex}
\end{tdocexa}


\begin{tdocexa}[Attention avec les titres de paragraphe]
	L'exemple suivant montre qu'il faut placer une dates et/ou une version juste après un titre de paragraphe, et non avant.

	\tdoclatexshow{examples/version-n-change/para-title.tex}
\end{tdocexa}


\begin{tdocexa}[Régler le positionnement vertical]
	Si besoin, on peut modifier le décalage vertical utilisé pour bien placer les dates et les versions dans la marge, la valeur par défaut étant $(-8\,\mathit{pt})$.

	\tdoclatexshow{examples/version-n-change/manual-setting.tex}
\end{tdocexa}


\begin{tdocimp}
    \begin{enumerate}[wide]
        \item Les macros \tdocmacro{tdocdate} et \tdocmacro{tdocversion} nécessitent deux compilations.

        \item Comme la langue détectée pour cette documentation est le français, la date dans le rendu final est au format \texttt{JJ/MM/AAAA} alors que dans le code celle-ci devra toujours être saisie au format anglais \texttt{AAAA-MM-JJ}.
    \end{enumerate}
\end{tdocimp}


\begin{tdoccaut}
    Seul l'emploi du format numérique \tdoclatexin+YYYY-MM-DD+ est vérifié,%
    \footnote{
        Techniquement, vérifier la validité d'une date, via \LaTeX3, ne présente pas de difficulté.
    }
    et ceci est un choix ! Pourquoi cela ? Tout simplement car dater et versionner des explications devrait se faire de façon semi-automatisée afin d'éviter tout bug humain.
\end{tdoccaut}

\end{document}
