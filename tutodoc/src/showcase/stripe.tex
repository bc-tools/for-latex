\documentclass[10pt, a4paper]{../main/main}

\input{../preamble.cfg.tex}

\usepackage{../highlight/highlight.cls}
\usepackage{../listing/listing.cls}
\usepackage{../macroenv/macroenv.cls}

% TESTING LOCAL IMPLEMENTATION %

\usepackage{showcase.cls}


\begin{document}

\section{Un rendu en situation réelle} \label{tdoc-showcase}

Il est parfois utile d'obtenir directement le rendu d'un code dans la documentation. Ceci nécessite que ce type de rendu soit dissociable du texte donnant des explications.



\subsection{Avec une bande colorée} \label{tdoc-color-macros}

\begin{tdocexa}[Avec les textes par défaut]
    Il peut être utile de montrer un rendu réel directement dans un document.
    \footnote{
        Typiquement lorsque l'on fait une démo.
    }
    Ceci se tape via \tdocenv{tdocshowcase} comme suit.

    \tdoclatexinput[code]{examples/showcase/default.tex}

    On obtient alors le rendu suivant.
    \footnote{
        En coulisse, la bande est créée sans effort grâce au package \tdocpack{clrstrip}.
    }

    \medskip

    \input{examples/showcase/default.tex}
\end{tdocexa}


\begin{tdocrem}
    Voir la section \ref{tdoc-latexshow} page \pageref{tdoc-latexshow} pour obtenir facilement un code suivi de son rendu réel comme dans l'exemple précédent.
\end{tdocrem}


\begin{tdocnote}
    Les textes explicatifs s'adaptent à la langue détectée par \thisproj.
\end{tdocnote}


\begin{tdocexa}[Changer la couleur et/ou les textes par défaut]
    \leavevmode

    \tdoclatexinput[code]{examples/showcase/customized.tex}

    Ceci produira ce qui suit.

    \medskip

    \input{examples/showcase/customized.tex}
\end{tdocexa}


\begin{tdocnote}
    Vous avez sûrement remarqué que le rouge sert de base pour obtenir les couleurs utilisées.

    \begin{itemize}
    	\item La couleur de fond est fournie par \tdocmacro{tdocbackcolor}.

    	\item La couleur des titres et des lignes est fournie par \tdocmacro{tdocdarkcolor}.
    \end{itemize}

    Ces macros développables admettent les codes suivants.

    \begin{tdoclatex}[code]
% Argument 1 : de façon optionnelle, on peut indiquer la quantité de couleur
%              relativement au noir.
%              Il est en général inutile de modifier ce paramètre !
% Argument 2 : une couleur au format xcolor.
\NewExpandableDocumentCommand{\tdocdarkcolor}{O{50}m}{#2!#1!black}

% Argument 1 : de façon optionnelle, on peut indiquer le taux de transparence.
%              Il est en général inutile de modifier ce paramètre !
% Argument 2 : une couleur au format xcolor.
\NewExpandableDocumentCommand{\tdoclightcolor}{O{5}m}{#2!#1}
    \end{tdoclatex}

    Il faut également savoir qu'en coulisse, la macro \tdocmacro{tdocruler} est utilisée.

    \begin{tdoclatex}[std]
        \tdocruler[red]{Un pseudo-titre décoré}
    \end{tdoclatex}
\end{tdocnote}


\begin{tdocwarn}
    Avec les réglages par défaut, si le code \LaTeX\ à mettre en forme commence par un crochet ouvrant, il faudra user de \tdocmacro{string} comme dans l'exemple suivant.

    \tdoclatexinput[code]{examples/showcase/hook.tex}

    Ceci produira ce qui suit.
\end{tdocwarn}

\input{examples/showcase/hook.tex}

\end{document}
