\documentclass{../main/main}

\input{../preamble.cfg.tex}

\usepackage{../admonitions/admonitions.cls}
\usepackage{../inenglish/inenglish.cls}
\usepackage{../macroenv/macroenv.cls}
\usepackage{../listing-latex/listing-latex.cls}

% TESTING LOCAL IMPLEMENTATION %

\usepackage{listing-full.cls}


\begin{document}

\section{Présenter du code informatique}

Certains packages proposent des outils utilisables via le langage \lua\ depuis un document \LaTeX.%
\footnote{
	Pour les mathématiques, on peut citer \tdocpack{luacas} et \tdocpack{tkz-elements}.
}
Pour ce type de projet, il est utile de pouvoir présenter des lignes de code \lua.
Pour cette raison, \thisproj\ permet de faire cela aisément, et bien plus.%
\footnote{
    La mise en forme des codes étant faite via les packages \tdocpack{minted} et \tdocpack{tcolorbox}, les macros et les environnements présentés dans cette section permettent la mise en forme de codes dans tous les langages supportés par \pygmentsREF, un projet \python\ utilisé en coulisse par \tdocpack{minted}.
}


\begin{tdoccaut}
	Les outils de cette section permettent aussi de présenter du code \LaTeX, mais il ne faut pas les utiliser pour de simples cas d'utilisation, car les macros et les environnements présentées juste après servent à étudier du code, et non juste à l'employer : se reporter à la section \ref{tutodoc-listing-latex} page \pageref{tutodoc-listing-latex} pour faire appel aux bons outils pour la mise en forme de cas d'utilisation \LaTeX.
\end{tdoccaut}



\subsection{Codes \tdocquote{en ligne}}

La macro \tdocmacro{tdocodein} attend deux arguments : le 1\ier\ indique le langage de programmation, et le 2\ieme\ donne le code à mettre en forme.
Il est possible d'utiliser une option de fonctionnement identique à ce que propose \tdocmacro{tdoclatexin} : voir la section \ref{tutodoc-listing-latex-inline} page \pageref{tutodoc-listing-latex-inline}.
Voici des cas d'utilisation possibles..%
    \footnote{
    	Une couleur de fond est volontairement utilisée pour subtilement faire ressortir les codes \tdocodein{py}{mis.en.forme}\,.
    }

\begin{tdoclatex}
1: \tdocodein{py}{print("OK" if i=0 else "KO")}             \\
2: \tdocodein[style = bw]{py}{print("OK" if i=0 else "KO")} \\
3: \tdocodein[style = igor, showspaces]%
             {py}{print("OK" if i=0 else "KO")}
\end{tdoclatex}



\subsection{Codes tapés directement}

XXX

\begin{tdoclatex}<\tdoctcb{code}>
\begin{tdocode}[style=solarized-light, linenos]%
               <top = 1cm, leftrule=5pt>%
               {lua}
io.write("Qui êtes-vous ? ")
local name = io.read()

if name == "" then
    print("Ah, pas très bavard aujourd'hui !")

else
    print("Bonjour " .. name .. ".")
    print("Épatant ! En fait, pas du tout...")
end
\end{tdocode}
\end{tdoclatex}


\begin{tdocode}[style=solarized-light, linenos]%
               <top = 8pt, bottom = 8pt, leftrule=5pt>%
               {lua}
io.write("Qui êtes-vous ? ")
local name = io.read()

if name == "" then
    print("Ah, pas très bavard aujourd'hui !")

else
    print("Bonjour " .. name .. ".")
    print("Épatant ! En fait, pas du tout...")
end
\end{tdocode}

\end{document}
