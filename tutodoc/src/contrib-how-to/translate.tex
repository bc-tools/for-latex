\documentclass[10pt, a4paper]{../main/main}

\input{../preamble.cfg.tex}

\usepackage{../focus/focus.cls}
\usepackage{../inenglish/inenglish.cls}
\usepackage{../macroenv/macroenv.cls}

%\geometry{showframe}


% == FORDOC == %

% Source: https://tex.stackexchange.com/a/424061/6880

\newcommand{\FTdirO}{}
\def\FTdirO(#1,#2,#3){%
  \FTfile(#1,{\color{blue!40!black}\faFolderOpen\hspace{-.35pt}}{\hspace{0.2em}#3})
  (tmp.west)++(0.8em,-0.4em)node(#2){}
  (tmp.west)++(1.5em,0)
  ++(0,-1.3em) 
}

\newcommand{\FTdirC}{}
\def\FTdirC(#1,#2,#3){%
  \FTfile(#1,{\color{blue!40!black}\faFolder\hspace{.75pt}}{\hspace{0.2em}#3})
  (tmp.west)++(0.8em,-0.4em)node(#2){}
  (tmp.west)++(1.5em,0)
  ++(0,-1.3em) 
}

\newcommand{\FTfile}{}
\def\FTfile(#1,#2){%
  node(tmp){}
  (#1|-tmp)++(0.6em,0)
  node(tmp)[anchor=west,black]{\tt #2}
  (#1)|-(tmp.west)
  ++(0,-1.2em) 
}

\newcommand{\FTroot}{}
\def\FTroot{tmp.west}

\newcommand\contribtranslatedirtree{
  \begin{tikzpicture}%
    \draw[color=black, thick]
% en        : parent = \FTroot
% normal dir: (parentID, currentID, label)
% file      :       (parentID, label)
      \FTdirO(\FTroot,root,translate){
        \FTdirC(root,changes,changes){
        }
        \FTdirO(root,en,en) {    
          \FTdirC(en,api,api) {
          } 
          \FTdirC(en,doc,doc) {
          } 
        } 
        \FTdirC(root,fr,fr){
        }
        \FTdirC(root,status,status){
          \FTdirO(status,en,en) {
            \FTfile(en,api.yaml)
            \FTfile(en,manual.yaml)
          } 
          \FTdirC(status,fr,fr){
          }
        }
        \FTfile(root,README.md)
        \FTfile(root,LICENSE.txt)
      };
  \end{tikzpicture}
}

\begin{document}

%\section{Contribuer}

\subsection{Compléter les traductions}

\begin{tdocnote}
	L'auteur de \thisproj\ se charge des versions françaises et anglaises des traductions.
\end{tdocnote}


\begin{tdoccaut}
	Même si nous allons expliquer comment traduire les documentations, il semble peu pertinent de le faire, car l'anglais devrait suffire de nos jours.%
	\footnote{
		L'existence d'une version anglaise et d'une française vient juste de la langue maternelle de l'auteur de \thisproj, le français.
	}
\end{tdoccaut}


\begin{wrapfigure}{R}%[0pt]
	\contribtranslatedirtree\
	
	\caption{Vue simplifiée du dossier des traductions}
	\label{tdoc-contrib-tranlsate-dir}
\end{wrapfigure}{}


Les traductions sont organisées grosso-modo comme dans la figure \ref{tdoc-contrib-tranlsate-dir} où seuls les dossiers importants pour de nouvelles traductions ont été \tdocquote{ouverts}\,.%
\footnote{
	Cette organisation était celle du 5 octobre 2024, mais elle reste d'actualité.
}



\subsubsection{Les dossiers \texttt{fr} et \texttt{en}}

Ces deux dossiers, d'organisation identique, contiennent des fichiers faciles à traduire même si l'on n'est pas un codeur. Imaginons que vous souhaitiez ajouter le support de l'espagnol. Vous pouvez le faire de deux façons.
%
\begin{enumerate}
	\item Le plus important est de s'intéresser au dossier \verb#api# pour les traductions relatives aux fonctionnalités de \thisproj.
	Vous y trouverez uniquement des dossiers et des fichiers de type \verb#TXT# à modifier via un éditeur de texte, ou de code, mais non via un traitement de texte.
	Les contenus de ces fichiers utilisent des lignes commentées en anglais pour expliquer ce que fera \thisproj\ : ces lignes commencent par \verb#//# comme dans l'extrait suivant.
\end{enumerate}
	
\begin{verbatim}
     // #1: year  in format YYYY like 2023.
     // #2: month in format MM   like 04.
     // #3: day   in format DD   like 29.
     date = #1-#2-#3
\end{verbatim}


\begin{enumerate}[resume]
	\item Le dossier \verb#doc# est réservé aux documentations. Il contient des dossiers avec uniquement des fichiers de type \verb#TEX# compilables directement pour une validation en temps réel des traductions faites.
\end{enumerate}



\subsubsection{Le dossier \texttt{changes}}

Ce dossier est un outil de communication où sont indiqués les changements importants sans s'attarder sur les modifications mineures propres à une ou plusieurs traductions.



\subsubsection{Le dossier \texttt{status}}

Ce dossier permet de savoir où en sont les traductions du point de vue du projet. Tout se passe via des fichiers \verb#YAML# bien commentés.



\subsubsection{Les fichiers \texttt{README.md} et \texttt{LICENSE.txt}}

Le fichier \texttt{LICENSE.txt} est bien nommé, tandis que le fichier \texttt{README.md} reprend en anglais ce qui a été dit dans cette section sur les traductions.

\end{document}
