\documentclass[10pt, a4paper]{article}

\input{../preamble.cfg.tex}


\begin{document}

\section{A real-life rendering} \label{tdoc-showcase}

It is sometimes useful to render code directly in the documentation. This type of rendering must be dissociable from the explanatory text.



\subsection{With a coloured stripe}

\begin{tdocexa} [With default text]
    It can be useful to show a real rendering directly in a document.
    \footnote{
        Typically when making a demo.
    }
    This is done via \tdocenv{tdocshowcase} as follows.

    \tdoclatexinput[code]{examples/showcase/default.tex}

    The result is the following rendering.
    \footnote{
        Behind the scenes, the strip is created effortlessly using the \tdocpack{clrstrip} package.
    }
\end{tdocexa}

\input{examples/showcase/default.tex}


\smallskip

\begin{tdocrem}
    See the section \ref{tdoc-latexshow} on page \pageref{tdoc-latexshow} to easily obtain code followed by its actual rendering as in the previous example.
\end{tdocrem}


\begin{tdocnote}
    The explanatory texts adapt to the language chosen when \thispack{} is loaded.
\end{tdocnote}


% ------------------ %


\begin{tdocexa}[Change the default colour and/or text]
    \leavevmode

    \tdoclatexinput[code]{examples/showcase/customized.tex}

    This will produce the following.

    \medskip

    \input{examples/showcase/customized.tex}
\end{tdocexa}


\begin{tdocnote}
    You've probably noticed that red is used as a base to obtain the colors used.
    
    \begin{itemize}
    	\item The background color is provided by \tdocmacro{tdocbackcolor}.

    	\item The color of titles and lines is provided by \tdocmacro{tdocdarkcolor}.
    \end{itemize}
    
    These expandable macros have a single argument, the chosen color, and accept the following codes.

    \begin{tdoclatex}[code]
\NewExpandableDocumentCommand{tdocbackcolor}{m}{#1!5}
\NewExpandableDocumentCommand{tdocdarkcolor}{m}{#1!50!black}
    \end{tdoclatex}
    
    You also have to know that behind the scene, the \tdocmacro{tdocruler} macro is used.

    \begin{tdoclatex}[std]
        \tdocruler{A decorated pseudo-title}{red}
    \end{tdoclatex}
\end{tdocnote}


% ------------------ %


\begin{tdocwarn}
    With the default settings, if the code to be formatted begins with an opening bracket, use \tdocmacro{string} as in the following example.

    \tdoclatexinput[code]{examples/showcase/hook.tex}

    This will produce the following.
\end{tdocwarn}


\input{examples/showcase/hook.tex}

\end{document}
