\documentclass[10pt, a4paper]{article}

\input{../preamble.cfg.tex}


\begin{document}

\section{A real-life rendering} \label{tdoc-showcase}

It is sometimes useful to render code directly in the documentation. This type of rendering must be dissociable from the explanatory text.



\subsection{With a colored stripe} \label{tdoc-color-macros}

\begin{tdocexa} [With default text]
    It can be useful to show a real rendering directly in a document.
    \footnote{
        Typically when making a demo.
    }
    This is done via \tdocenv{tdocshowcase} as follows.

    \tdoclatexinput[code]{examples/showcase/default.tex}

    The result is the following rendering.
    \footnote{
        Behind the scenes, the strip is created effortlessly using the \tdocpack{clrstrip} package.
    }
\end{tdocexa}

\input{examples/showcase/default.tex}


\smallskip

\begin{tdocrem}
    See the section \ref{tdoc-latexshow} on page \pageref{tdoc-latexshow} to easily obtain code followed by its actual rendering as in the previous example.
\end{tdocrem}


\begin{tdocnote}
    The explanatory texts adapt to the language detected by \thisproj.
\end{tdocnote}


% ------------------ %


\begin{tdocexa}[Change the default colour and/or text]
    \leavevmode

    \tdoclatexinput[code]{examples/showcase/customized.tex}

    This will produce the following.

    \medskip

    \input{examples/showcase/customized.tex}
\end{tdocexa}


\begin{tdocnote}
    You've probably noticed that red is used as a base to obtain the colors used.

    \begin{itemize}
    	\item The background color is provided by \tdocmacro{tdocbackcolor}.

    	\item The color of titles and lines is provided by \tdocmacro{tdocdarkcolor}.
    \end{itemize}

    These expandable macros accept the following codes.

    \begin{tdoclatex}[code]
% Argument 1 : optionally, the amount of color relative to black can be specified.
%              In general, there's no need to change this setting!
% Argument 2 : a color in xcolor format.
\NewExpandableDocumentCommand{\tdocdarkcolor}{O{50}m}{#2!#1!black}

% Argument 1 : optionally, the transparency rate can be specified.
%              In general, there's no need to change this setting!
% Argument 2 : a color in xcolor format.
\NewExpandableDocumentCommand{\tdoclightcolor}{O{5}m}{#2!#1}
    \end{tdoclatex}

    You also have to know that behind the scene, the \tdocmacro{tdocruler} macro is used.

    \begin{tdoclatex}[std]
        \tdocrulertdocruler[red]{A decorated pseudo-title}
    \end{tdoclatex}
\end{tdocnote}


% ------------------ %


\begin{tdocwarn}
    With the default settings, if the code to be formatted begins with an opening bracket, use \tdocmacro{string} as in the following example.

    \tdoclatexinput[code]{examples/showcase/hook.tex}

    This will produce the following.
\end{tdocwarn}


\input{examples/showcase/hook.tex}

\end{document}
