
% -------------------- %
% -- RESOURCES USED -- %
% -------------------- %


\begin{filecontents*}{examples-focus-exa.tex}
Bla, bla, bla...

\begin{bdocexa}
    Ble, ble, ble...
\end{bdocexa}

\begin{bdocexa}[Magnifique]
    Bli, bli, bli...
\end{bdocexa}

\begin{bdocexa}<nonb>
    Blo, blo, blo...
\end{bdocexa}

\begin{bdocexa}<nonb>[Superbe]
    Blu, blu, blu...
\end{bdocexa}

\end{filecontents*}


\begin{filecontents*}{examples-focus-exa-leavevmode.tex}
\begin{bdocexa}
    \leavevmode 
	 	  
    \begin{enumerate}
        \item Point 1.

        \item Point 2.
    \end{enumerate}
\end{bdocexa}

\end{filecontents*}


\begin{filecontents*}{examples-focus-rmk.tex}
\begin{bdocrem}
    Juste une remarque...
\end{bdocrem}

\begin{bdocrem}[Mini titre]
    Utile ?
\end{bdocrem}

\end{filecontents*}


\begin{filecontents*}{examples-focus-tip.tex}
\begin{bdoctip}
    Une astuce.
\end{bdoctip}

\begin{bdoctip}[Mini titre]
    Utile ?
\end{bdoctip}

\end{filecontents*}


\begin{filecontents*}{examples-focus-note.tex}
\begin{bdocnote}
    Un truc utile à vous dire...
\end{bdocnote}

\begin{bdocnote}[Mini titre]
    Utile ?
\end{bdocnote}

\end{filecontents*}


\begin{filecontents*}{examples-focus-important.tex}
\begin{bdocimportant}
    Un truc important sans danger.
\end{bdocimportant}

\begin{bdocimportant}[Mini titre]
    Utile ?
\end{bdocimportant}

\end{filecontents*}


\begin{filecontents*}{examples-focus-caution.tex}
\begin{bdoccaution}
    Prudence, prudence...
\end{bdoccaution}

\begin{bdoccaution}[Mini titre]
    Utile ?
\end{bdoccaution}

\end{filecontents*}


\begin{filecontents*}{examples-focus-warn.tex}
\begin{bdocwarn}
    Evitez les dangers...
\end{bdocwarn}

\begin{bdocwarn}[Mini titre]
    Utile ?
\end{bdocwarn}

\end{filecontents*}


\begin{filecontents*}{examples-showcase-default.tex}
\begin{bdocshowcase}
    \bfseries Un peu de code \LaTeX.

    \bigskip

    \emph{\large Fin de l'affreuse démo.}
\end{bdocshowcase}
\end{filecontents*}


\begin{filecontents*}{examples-showcase-customized.tex}
\begin{bdocshowcase}[before = Mon début,   
                     after  = Ma fin à moi,
                     color  = red]
    Bla, bla, bla, bla, bla, bla, bla, bla, bla, bla, bla, bla, bla...
\end{bdocshowcase}
\end{filecontents*}


\begin{filecontents*}{examples-showcase-hook.tex}
\begin{bdocshowcase}[]
    [Cela fonctionne...]
\end{bdocshowcase}
\end{filecontents*}


\begin{filecontents*}{examples-showcase-no-clrstrip.tex}
\begin{bdocshowcase}[nostripe]
    Bla, bla, bla, bla, bla, bla, bla, bla, bla, bla, bla, bla, bla...
\end{bdocshowcase}
\end{filecontents*}


\begin{filecontents*}{examples-showcase-no-clrstrip-customized.tex}
\begin{bdocshowcase}[nostripe,
                     before = Mon début,
                     after  = Ma fin à moi,
                     color  = green]
    Bla, bla, bla, bla, bla, bla, bla, bla, bla, bla, bla, bla, bla...
\end{bdocshowcase}
\end{filecontents*}


\begin{filecontents*}{examples-showcase-external.tex}
Blablobli, blablobli, blablobli, blablobli, blablobli, blablobli...
\end{filecontents*}


\begin{filecontents*}{examples-listing-ABC.tex}
\begin{bdoclatex}[sbs]
    $A = B + C$
\end{bdoclatex}
\end{filecontents*}


\begin{filecontents*}{examples-listing-strange.tex}
\begin{bdoclatex}[std]
    [Étrange... Ou pas !]
\end{bdoclatex}
\end{filecontents*}


\begin{filecontents*}{examples-listing-xyz.tex}
% Juste une démo.
$x y z = 1$
\end{filecontents*}


\begin{filecontents*}{examples-listing-latexshow-options.tex}
\bdoclatexshow[explain = Ce qui vient est coloré...,
               before  = Rendu ci-après.,
               after   = Rendu fini.,
               color   = orange]
               {examples-listing-xyz.tex}
\end{filecontents*}


\begin{filecontents*}{examples-version-n-change-dating.tex}
Bla, bla, bla, bla, bla, bla, bla, bla, bla, bla, bla, bla, bla...

\medskip % ATTENTION ! Ceci évite le chevauchement.

\bdocdate{2023-09-24}

Ble, ble, ble, ble, ble, ble, ble, ble, ble, ble, ble, ble, ble...

\medskip % ATTENTION ! Ceci évite le chevauchement.

\bdocdate[gray]{2020-05-08}

Bli, bli, bli, bli, bli, bli, bli, bli, bli, bli, bli, bli, bli...

Blo, blo, blo, blo, blo, blo, blo, blo, blo, blo, blo, blo, blo...

Blu, blu, blu, blu, blu, blu, blu, blu, blu, blu, blu, blu, blu...

\end{filecontents*}


\begin{filecontents*}{examples-version-n-change-versioning.tex}
\bdocversion[red]{10.2.0-beta}[2021-07-05]

Bla, bla, bla, bla, bla, bla, bla, bla, bla, bla, bla, bla, bla...

\bigskip % ATTENTION ! Ceci évite le chevauchement.

\bdocversion{10.2.0-alpha}

Bla, bla, bla, bla, bla, bla, bla, bla, bla, bla, bla, bla, bla,
bla, bla, bla, bla, bla, bla, bla, bla, bla, bla, bla, bla, bla,
bla, bla, bla, bla, bla, bla, bla, bla, bla, bla, bla, bla, bla,
bla, bla, bla, bla, bla, bla, bla, bla, bla, bla, bla, bla...

\end{filecontents*}


\begin{filecontents*}{examples-version-n-change-new.tex}
\begin{bdocnew}
    \item Info 1...
    \item Info 2...
\end{bdocnew}

\end{filecontents*}


\begin{filecontents*}{examples-version-n-change-update.tex}
\begin{bdocupdate}
    \item Info 1...
    \item Info 2...
\end{bdocupdate}


\end{filecontents*}


\begin{filecontents*}{examples-version-n-change-fix.tex}
\begin{bdocfix}
    \item Info 1...
    \item Info 2...
\end{bdocfix}


\end{filecontents*}


\begin{filecontents*}{examples-version-n-change-topic.tex}
\begin{bdoctopic}{Des changements inclassables}
% Ici le point s'impose.
    \item Info 1...
    \item Info 2...
\end{bdoctopic}

\end{filecontents*}


% ------------------------ %
% -- SOURCE FOR THE DOC -- %
% ------------------------ %

\documentclass[10pt, a4paper]{article}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}

\usepackage[french]{babel, varioref}

\usepackage{enumitem}
\frenchsetup{StandardItemLabels=true}

% Package developped.
\usepackage[lang = french]{bdoc}


% Source.
%    * https://tex.stackexchange.com/a/604698/6880

\NewDocumentCommand{ \bdocdocextraruler }{ m }{%
    \par
    {
        \centering
        \color{green!50!black}%
        \leavevmode
        \kern.075\linewidth
        \leaders\hrule height3.25pt\hfill\kern0pt
        \footnotesize\itshape\bfseries\space\ignorespaces#1\unskip\space
        \leaders\hrule height3.25pt\hfill\kern0pt
        \kern.075\linewidth
        \par
    }
}

\NewDocumentEnvironment{ bdoc-doc-showcase }
                       { O{ Début du rendu dans cette doc. }
                         O{ Fin du rendu dans cette doc. } }{
%    \begin{colorstrip}{green!5}
        \bdocdocextraruler{#1}
        \smallskip
}{
        \smallskip
        \bdocdocextraruler{#2}
%    \end{colorstrip}
}



\begin{document}

\title{Le package \texttt{bdoc} - Documenter simplement un projet}
\author{Christophe BAL}
\date{29 Nov. 2023}

\maketitle

\begin{abstract}
Le package \bdocpack{bdoc}
\footnote{
    Le nom vient de \bdocquote{\bdocprewhy{b.asic} \bdocprewhy{doc.umentation}} qui ne nécessite aucune traduction.
}
est sans aucune prétention.
Son but est de faciliter la saisie sémantique de documentations de packages et de classes \LaTeX\ avec un rendu sobre pour une lecture sur écran
\footnote{
    L'idée est de produire un fichier \texttt{PDF} efficace à parcourir pour des besoins ponctuels. C'est généralement ce que l'on attend d'une documentation liée au codage.
}.


\begin{bdocnote}
 	Ce package propose, ou impose, un style de mise en forme.
	Dans un avenir plus ou moins proche, \bdocpack{bdoc} sera sûrement éclaté en une classe et un package.
\end{bdocnote}
\end{abstract}
\section{Mises en forme générales imposées}

\subsection{Géométrie de la page}

Le package \bdocpack{geometry} est chargé avec les réglages suivants.

\begin{bdoclatex}[code]
\RequirePackage[
  top            = 2.5cm,
  bottom         = 2.5cm,
  left           = 2.5cm,
  right          = 2.5cm,
  marginparwidth = 2cm,
  marginparsep   = 2mm,
  heightrounded
]{geometry}
\end{bdoclatex}


%\section{Mises en forme générales imposées}

\subsection{Titre et table des matières}

Les packages \bdocpack{titlesec} et \bdocpack{tocbasic} sont réglés comme suit.

\begin{bdoclatex}[code]
\RequirePackage[raggedright]{titlesec}

% ...
\ifcsundef{chapter}%
          {}%
          {\renewcommand\thechapter{\Alph{chapter}.}}

\renewcommand\thesection{\Roman{section}.}
\renewcommand\thesubsection{\arabic{subsection}.}
\renewcommand\thesubsubsection{\roman{subsubsection}.}

\titleformat{\paragraph}[hang]%
            {\normalfont\normalsize\bfseries}%
            {\theparagraph}{1em}%
            {}

\titlespacing*{\paragraph}%
              {0pt}%
              {3.25ex plus 1ex minus .2ex}%
              {0.5em}

% Source
%    * https://tex.stackexchange.com/a/558025/6880
\DeclareTOCStyleEntries[
  raggedentrytext,
  linefill = \hfill,
  indent   = 0pt,
  dynindent,
  numwidth = 0pt,
  numsep   = 1ex,
  dynnumwidth
]{tocline}{
  chapter,
  section,
  subsection,
  subsubsection,
  paragraph,
  subparagraph
}

\DeclareTOCStyleEntry[indentfollows = chapter]{tocline}{section}
\end{bdoclatex}


%\section{Mises en forme générales imposées}

\subsection{Liens dynamiques}

Le package \bdocpack{hyperref} est aussi importé en coulisse avec les réglages ci-dessous.

\begin{bdoclatex}[code]
\hypersetup{
  colorlinks,
  citecolor = orange!75!black,
  filecolor = orange!75!black,
  linkcolor = orange!75!black,
  urlcolor  = orange!75!black
}
\end{bdoclatex}


\section{Choisir la langue au chargement du package}

La présente documentation utilise le français via \bdocinlatex|\usepackage[lang = french]{bdoc}| .
Pour le moment, on a juste les deux choix suivants.

\begin{enumerate}
    \item \bdocinlatex|english| est la valeur par défaut.

    \item \bdocinlatex|french| est pour \bdocinEN{français}.
\end{enumerate}


\begin{bdocnote}
	Les noms des langues sont ceux proposés par le package \bdocpack{babel}.
\end{bdocnote}


\section{Cela veut dire quoi en \bdocquote{angliche}}

Penser aux non-anglophones est bien, même si ces derniers se font de plus en plus rares.

\begin{bdoclatex}
Cool et top signifient \bdocinEN*{cool} et \bdocinEN{top}.
\end{bdoclatex}


La macro \bdocmacro{bdocinEN} et sa version étoilée s'appuient sur \bdocmacro{bdocquote} : par exemple, \bdocquote{sémantique} s'obtient via \bdocinlatex|\bdocquote{sémantique}| .


\begin{bdocnote}
	Le texte \bdocquote{en anglais} est traduit dans la langue indiquée lors de l'importation de \bdocpack{bdoc}.
\end{bdocnote}


\section{Mettre en avant du contenu}

\begin{bdocnote}
    Les environnements présentés dans cette section
    \footnote{
        La mise en forme provient du package \bdocpack{amsthm}.
    }
    ajoutent un court titre indiquant le type d'informations fournies.
    Ce court texte sera toujours traduit dans la langue indiquée lors du chargement du package \bdocpack{bdoc}.
\end{bdocnote}


% ------------------ %


\subsection{Des exemples}

Des exemples numérotés, ou non, s'indiquent via l'environnement \bdocenv{bdocexa} qui propose deux arguments optionnels.

\begin{enumerate}
    \item Le 1\ier{} argument entre chevrons \verb#<...># peut prendre au choix les valeurs \verb#nb# pour numéroter, réglage par défaut, et \verb#nonb# pour ne pas numéroter.

    \item Le 2\ieme{} argument entre crochets \verb#[...]# sert à ajouter un mini-titre.
\end{enumerate}


Voici différents emplois possibles.

\bdoclatexinput[sbs]{examples-focus-exa.tex}


% ------------------ %


\begin{bdocimportant}
    La numérotation des exemples est remise à zéro dès qu'une section  de niveau au moins égale à une \bdocinlatex|\subsubsection| est ouverte.
\end{bdocimportant}


% ------------------ %


\begin{bdoctip}
    Il peut parfois être utile de revenir à la ligne dès le début du contenu. Voici comment faire (ce tour de passe-passe reste valable pour les environnements présentés dans les sous-sections suivantes). Noter au passage que la numérotation suit celle de l'exemple précédent comme souhaité.

    \bdoclatexinput[sbs]{examples-focus-exa-leavevmode.tex}
\end{bdoctip}


%\section{Mettre en avant du contenu}

\subsection{Des remarques}

Tout se passe via l'environnement \bdocenv{bdocrem} comme dans l'exemple suivant.

\bdoclatexinput[sbs]{examples-focus-rmk.tex}


%\section{Mettre en avant du contenu}

\subsection{Une astuce}

L'environnement \bdocenv{bdoctip} sert à donner des astuces. Voici comment l'employer.

\bdoclatexinput[sbs]{examples-focus-tip.tex}


%\section{Mettre en avant du contenu}

\subsection{Note informative}

L'environnement \bdocenv{bdocnote} sert à mettre en avant des informations utiles. Voici comment l'utiliser.

\bdoclatexinput[sbs]{examples-focus-note.tex}


%\section{Mettre en avant du contenu}

\subsection{Un truc important}

L'environnement \bdocenv{bdocimportant} permet d'indiquer quelque chose d'important mais sans danger.

\bdoclatexinput[sbs]{examples-focus-important.tex}


%\section{Mettre en avant du contenu}

\subsection{Avertir d'un point très délicat}

L'environnement \bdocenv{bdoccaution} sert à indiquer un point délicat à  l'utilisateur. Voici comment l'employer.

\bdoclatexinput[sbs]{examples-focus-caution.tex}


%\section{Mettre en avant du contenu}

\subsection{Avertir d'un danger}

L'environnement \bdocenv{bdocwarn} sert à avertir l'utilisateur d'un piège à éviter. Voici comment l'employer.

\bdoclatexinput[sbs]{examples-focus-warn.tex}


\section{Indiquer des packages, des macros ou des environnements}

Voici ce qu'il est possible de taper de façon sémantique.

\begin{bdoclatex}[sbs]
\bdoccls{maclasse} sert à...

\bdocpack{monpackage} est pour...

\bdocmacro{unemacro} permet de...

\bdocenv{env} produit...

On a aussi :

\bdocenv[{[opt1]<opt2>}]{env}
\end{bdoclatex}


\begin{bdocrem}
    L'intérêt des macros précédentes vis à vis de l'usage de \bdocmacro{bdocinlatex}, voir la section \ref{bdoc-listing-inline} page \pageref{bdoc-listing-inline}, est l'absence de coloration.
    De plus, la macro \bdocmacro{bdocenv} demande juste de taper le nom de l'environnement
    \footnote{
        De plus, \bdocinlatex{\bdocenv{monenv}} produit \bdocenv{monenv} avec des espaces afin d'autoriser des retours à la ligne si besoin.
    }
    avec des éventuelles options en tapant les bons délimiteurs
    \footnote{
        Se souvenir que tout est possible ou presque dorénavant.
    }
    à la main.
\end{bdocrem}


\begin{bdocwarn}
    L'argument optionnel de la macro \bdocmacro{bdocenv} est copié-collé lors du rendu. Ceci peut donc parfois nécessiter d'utiliser des accolades protectrices comme dans l'exemple précédent. 
\end{bdocwarn}


% -------------------- %


\section{Origine d'un préfixe ou d'un suffixe}

Pour expliquer les noms retenus, rien de tel que d'indiquer et expliciter les courts préfixes et suffixes employés. Ceci se fait facilement comme suit.

\begin{bdoclatex}[sbs]
\bdocpre{sup} est relatif à...

\bdocprewhy{sup.erbe} signifie...

\emph{\bdocprewhy{sup.er} pour...}
\end{bdoclatex}


\begin{bdocrem}
    Le choix du point pour scinder un mot permet d'utiliser des mots avec un tiret comme dans \bdocinlatex+\bdocprewhy{ca.sse-brique}+ qui donne \bdocprewhy{ca.sse-brique}.
\end{bdocrem}


\section{Un rendu en situation réelle} \label{bdoc-showcase}

\subsection{Avec une bande colorée}

\begin{bdocexa}[Avec les textes par défaut]
    Il peut être utile de montrer un rendu réel directement dans un document, typiquement lorsque l'on fait une démo.
    Ceci se tape comme suit.

    \bdoclatexinput[code]{examples-showcase-default.tex}

    On obtient alors le rendu suivant
    \footnote{
        La bande est créée sans effort grâce au package \bdocpack{clrstrip}.
    }.

    \medskip

    \input{examples-showcase-default.tex}
\end{bdocexa}


\begin{bdocrem}
    Voir la section \ref{bdoc-latexshow} page \pageref{bdoc-latexshow} pour obtenir facilement un code suivi de son rendu réel comme dans l'exemple précédent.
\end{bdocrem}

\begin{bdocnote}
    Les textes explicatifs s'adaptent à la langue choisie lors du chargement de \bdocpack{bdoc}.
\end{bdocnote}


% ------------------ %


\begin{bdocexa}[Changer la couleur et/ou les textes par défaut]
    \leavevmode

    \bdoclatexinput[code]{examples-showcase-customized.tex}

    Ceci produira ce qui suit.

    \medskip

    \input{examples-showcase-customized.tex}
\end{bdocexa}


\begin{bdocnote}
    Vous avez sûrement noté que l'on n'obtient pas un rouge pur : en coulisse les macros développables \bdocmacro{bdocbackcolor} et \bdocmacro{bdocdarkcolor} sont utilisées pour créer celles du fond et des titres respectivement à partir de la couleur proposée à \bdocenv{bdocshowcase}.
	Ces macros à un seul argument, la couleur choisie, admettent les codes suivants.

	\begin{bdoclatex}[code]
\NewExpandableDocumentCommand{\bdocbackcolor}{m}{#1!5}
\NewExpandableDocumentCommand{\bdocdarkcolor}{m}{#1!50!black}
	\end{bdoclatex}
\end{bdocnote}


% ------------------ %


\begin{bdocwarn}
    Avec la mise en forme par défaut, si le code \LaTeX\ commence par un crochet ouvrant, il faudra indiquer explicitement une option vide comme dans l'exemple suivant.

    \bdoclatexinput[code]{examples-showcase-hook.tex}

    Ceci produira ce qui suit.

    \medskip

    \input{examples-showcase-hook.tex}
\end{bdocwarn}


\begin{bdocnote}
    Il faut savoir qu'en coulisse la macro \bdocmacro{bdocruler} est utilisée.

    \begin{bdoclatex}[std]
        \bdocruler{Un pseudo-titre décoré}{red}
    \end{bdoclatex}
\end{bdocnote}


%\section{Un rendu en situation réelle} \label{bdoc-showcase}

\subsection{Sans bande colorée}

Le rendu de \bdocenv{bdocshowcase} avec une bande colorée peut ne pas convenir, ou parfois ne pas être acceptable malgré le travail fait par \bdocpack{clrstrip}.
Il est possible de ne pas utiliser une bande colorée comme nous allons le voir de suite.

\begin{bdocexa}
    L'option booléenne \bdocinlatex{nostripe} demande de ne pas faire appel à \bdocpack{clrstrip}.
    Voici un exemple d'utilisation.

    \bdoclatexinput[code]{examples-showcase-no-clrstrip.tex}

    Ceci produira ce qui suit.

    \medskip

    \input{examples-showcase-no-clrstrip.tex}
\end{bdocexa}


% ------------------ %


\begin{bdocexa}[Changer la couleur et/ou les textes par défaut]
    \leavevmode

    \bdoclatexinput[code]{examples-showcase-no-clrstrip-customized.tex}

    Ceci produira ce qui suit.

    \medskip

    \input{examples-showcase-no-clrstrip-customized.tex}
\end{bdocexa}


%\section{Un rendu en situation réelle} \label{bdoc-showcase}

\subsection{En important le code \LaTeX}

Pour obtenir des rendus en important le code depuis un fichier externe, au lieu de le taper, il suffit d'employer la macro \bdocmacro{bdocshowcaseinput} dont l'option reprend la syntaxe de celle de \bdocenv{bdocshowcase} et l'argument obligatoire correspond au chemin du fichier.

\begin{bdocexa}<nonb>
    Ce qui suit a été obtenu via \bdocinlatex+\bdocshowcaseinput{external.tex}+.

    \medskip

    \bdocshowcaseinput{examples-showcase-external.tex}

    \medskip

    Quant à \bdocinlatex+\bdocshowcaseinput[color = orange]{external.tex}+ , ceci produira le changement de couleur observable ci-après.

    \medskip

    \bdocshowcaseinput[color = orange]{examples-showcase-external.tex}
\end{bdocexa}


\section{Cas d'utilisation en \LaTeX}

\subsection{Codes \bdocquote{en ligne}} \label{bdoc-listing-inline}

La macro \bdocmacro{bdocinlatex}
\footnote{
	Le nom de la macro \bdocmacro{bdocinlatex} vient de \bdocquote{\bdocprewhy{in.line} \LaTeX} soit \bdocinEN{\LaTeX\ en ligne}.
}
permet de taper du code en ligne via un usage similaire à \bdocmacro{verb}.
Voici des exemples d'utilisation.
\begin{itemize}
    \item \bdocinlatex|$a^b = c$| s'obtient via le code suivant.
		  \begin{center}
		  		\bdocinlatex+\bdocinlatex|$a^b = c$|+
		  \end{center}


    \item \bdocinlatex+\bdocinlatex|$a^b = c$|+ s'obtient via le code suivant.
		  \begin{center}
		  		\bdocinlatex#\bdocinlatex+\bdocinlatex|$a^b = c$|+#
		  \end{center}


    \item \bdocinlatex#\bdocinlatex+\bdocinlatex|$a^b = c$|+# s'obtient via le code suivant.
		  \begin{center}
		  		\bdocinlatex£\bdocinlatex#\bdocinlatex+\bdocinlatex|$a^b = c$|+#£

				\medskip

				... \emph{etc.}
		  \end{center}
\end{itemize}


\begin{bdocnote}
    La macro \bdocmacro{bdocinlatex} est utilisable dans une note de pied de page : voir le bas de cette page
    \footnote{
        \bdocinlatex+$minted = TOP$+ a été tapé \bdocinlatex|\bdocinlatex+$minted = TOP$+| dans cette note de bas de page..
    }.
\end{bdocnote}


% ------------------ %


\subsection{Codes tapés directement}

\begin{bdocexa}[Face à face]
    Dans le code suivant, l'option \bdocinlatex#sbs# est pour \bdocquote{\bdocprewhy{s.ide} \bdocprewhy{b.y} \bdocprewhy{s.ide}} soit \bdocinEN{côte à côte}.

    \bdoclatexshow{examples-listing-ABC.tex}
\end{bdocexa}


% ------------------ %


\begin{bdocexa}[À la suite]
    \bdocenv{bdoclatex} produit le résultat suivant qui correspond à l'option par défaut \bdocinlatex#std#
    \footnote{
        \bdocinlatex{std} fait référence au comportement \bdocquote{standard} de \bdocpack{tcolorbox} vis à vis de la librairie \bdocpack{minted}.
    }.

    \begin{bdoclatex}
        $A = B + C$
    \end{bdoclatex}
\end{bdocexa}


% ------------------ %


\begin{bdocexa}[Juste le code]
    Afficher juste le code comme ci-après s'obtient via l'option \bdocinlatex#code#, donc \bdocenv[{[code]}]{bdoclatex} donnera juste ce qui suit.

    \begin{bdoclatex}[code]
        $A = B + C$
    \end{bdoclatex}
\end{bdocexa}


% ------------------ %


\begin{bdocwarn}
    Avec la mise en forme par défaut, si le code commence par un crochet ouvrant, il faudra indiquer explicitement l'option par défaut. Voici un cas d'usage.

    \bdoclatexshow[explain = Ceci permet d'obtenir ce qui est attendu :]{examples-listing-strange.tex}
\end{bdocwarn}


%\section{Cas d'utilisation en \LaTeX}

\subsection{Codes importés}

Pour les codes suivants, on considère un fichier \verb+xyz.tex+ avec le contenu suivant, et ayant le chemin relatif \verb+examples-listing-xyz.tex+ vis à vis de ce document.

\bdoclatexinput[code]{examples-listing-xyz.tex}

\medskip

La macro \bdocmacro{bdoclatexinput} , présentée ci-après, s'utilise comme l'environnement \bdocenv{bdoclatex} excepté que l'on fournit le chemin d'un fichier.


% ------------------ %


\begin{bdocexa}[Face à face]
    \leavevmode

    \begin{bdoclatex}[code]
\bdoclatexinput[sbs]{examples-listing-xyz.tex}
    \end{bdoclatex}

    Ceci produit la mise en forme suivante.

    \bdoclatexinput[sbs]{examples-listing-xyz.tex}
\end{bdocexa}


% ------------------ %


\begin{bdocexa}[À la suite]
    \leavevmode

    \begin{bdoclatex}[code]
\bdoclatexinput{examples-listing-xyz.tex}
    \end{bdoclatex}

    Ceci produit la mise en forme suivante où l'option employée par défaut est \bdocinlatex#std#.

    \bdoclatexinput{examples-listing-xyz.tex}
\end{bdocexa}


% ------------------ %


\begin{bdocexa}[Juste le code]
    \leavevmode

    \begin{bdoclatex}[code]
\bdoclatexinput[code]{examples-listing-xyz.tex}
    \end{bdoclatex}

    Ceci produit la mise en forme suivante.

    \bdoclatexinput[code]{examples-listing-xyz.tex}
\end{bdocexa}


% ------------------ %


\subsection{Codes importés et mis en situation} \label{bdoc-latexshow}

\begin{bdocexa}[Showcase]
    Ce qui suit s'obtient via \bdocinlatex+\bdoclatexshow{examples-listing-xyz.tex}+.

    \medskip

    \begin{bdoc-doc-showcase}
        \bdoclatexshow{examples-listing-xyz.tex}
    \end{bdoc-doc-showcase}
\end{bdocexa}


\begin{bdocnote}
    Les textes par défaut tiennent compte de la langue choisie lors du chargement du package \bdocpack{bdoc}.
\end{bdocnote}


% ------------------ %


\begin{bdocexa}[Changer le texte explicatif]
    Via la clé \bdocinlatex|explain|, on peut utiliser un texte personnalisé. Ainsi, \bdocinlatex|\bdoclatexshow[explain = Voici le rendu réel.]{examples-listing-xyz.tex}| produira ce qui suit.

    \medskip

    \begin{bdoc-doc-showcase}
        \bdoclatexshow[explain = Voici le rendu réel.]{examples-listing-xyz.tex}
    \end{bdoc-doc-showcase}
\end{bdocexa}


% ------------------ %


\begin{bdocexa}[Les options disponibles]
    En plus du texte explicatif, il est aussi possible d'utiliser toutes les options de \bdocenv{bdocshowcase}, voir \ref{bdoc-showcase}.
    Voici un exemple illustrant ceci.

    \medskip

    \bdoclatexinput[code]{examples-listing-latexshow-options.tex}

    \medskip

    Ceci va produire ce qui suit.

    \medskip

    \begin{bdoc-doc-showcase}
        \input{examples-listing-latexshow-options.tex}
    \end{bdoc-doc-showcase}
\end{bdocexa}


\section{Indiquer les changements}

\subsection{À quel moment ?}


\begin{bdocexa}[Dater des nouveautés]
    La macro \bdocmacro{bdocdate} permet d'indiquer une date dans la marge comme dans l'exemple suivant.

    \bdoclatexshow{examples-version-n-change-dating.tex}
\end{bdocexa}


% ------------------ %


\begin{bdocexa}[Versionner et dater des nouveautés]
    Associer un numéro de version à une nouveauté se fait via la macro \bdocmacro{bdocversion}, la couleur et la date étant des arguments optionnels.

    \bdoclatexshow{examples-version-n-change-versioning.tex}
\end{bdocexa}


\begin{bdocimportant}
    \leavevmode

    \begin{enumerate}
        \item Les macros \bdocmacro{bdocdate} et \bdocmacro{bdocversion} nécessitent deux compilations.

        \item Comme la langue indiquée pour cette documentation est le français, la date dans le rendu final est au format \texttt{JJ/MM/AAAA} alors que dans le code celle-ci devra toujours être saisie au format anglais \texttt{AAAA-MM-JJ}.
    \end{enumerate}
\end{bdocimportant}


\begin{bdocwarn}
    Seul l'emploi du format numérique \bdocinlatex+YYYY-MM-DD+ est vérifié
    \footnote{
        Techniquement, vérifier la validité d'une date, via \LaTeX3, ne présente pas de difficulté.
    },
    et ceci est un choix ! Pourquoi cela ? Tout simplement car dater et versionner des explications devrait se faire de façon semi-automatisée afin d'éviter tout bug humain.
%    \footnote{
%        L'auteur de \bdocpack{bdoc} est entrain de mettre en place un ensemble d'outils permettant une telle semi-automatisation.
%    }.
\end{bdocwarn}


%\section{Indiquer les changements}

\subsection{Quoi de neuf ?}

Pour fournir des explications efficaces dans l'historique des changements, \bdocpack{bdoc} propose différents environnements pour indiquer rapidement et clairement ce qui a été fait
\footnote{
	L'utilisateur n'a pas besoin de tous les détails techniques.
}.


\begin{bdocexa}[Pour les nouveautés]
	\leavevmode
	
    \bdoclatexshow{examples-version-n-change-new.tex}
\end{bdocexa}


% ------------------ %


\begin{bdocexa}[Pour les mises à jour]
	\leavevmode

    \bdoclatexshow{examples-version-n-change-update.tex}
\end{bdocexa}


% ------------------ %


\begin{bdocexa}[Pour les réparations]
	\leavevmode

    \bdoclatexshow{examples-version-n-change-fix.tex}
\end{bdocexa}


% ------------------ %


\begin{bdocexa}[Thématiques aux choix]
	\leavevmode

    \bdoclatexshow{examples-version-n-change-topic.tex}
\end{bdocexa}


\section{Décorations}

Finissons cette documentation avec de petites outils de mise en forme peuvant rendre de grands services.

\begin{bdoclatex}[sbs]
Bla, bla, bla...

\bdocsep % Pratique pour délimiter.

Ble, ble, ble...

Bli, bli, bli...

\bdocxspace % Espace subtile
            % mais utile.

Blo, blo, blo...

Blu, blu, blu...

\end{bdoclatex}
\section{Historique}

\bdocversion{1.0.0}[2023-11-29]

Première version publique du projet.

\end{document}
