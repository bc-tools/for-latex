\input{../doc-header.tex}

\usepackage[lang = french]{../main/main}
\usepackage{../macroenv/macroenv}
\usepackage{../inenglish/inenglish}
\usepackage{../showcase/showcase}
\usepackage{../listing/listing}
\usepackage{../focus/focus}

% TESTING LOCAL IMPLEMENTATION %

\usepackage{version-n-change}


\begin{document}

\section{Changements}

\begin{bdocexa}[Expliquer dans le journal]
	Pour fournir des explications efficaces dans l'historique des changements, \bdocpack{bdoc} propose de procéder comme suit.

    \bdoclatexshow{examples/version-n-change/topic.tex}
\end{bdocexa}


% ------------------ %


\begin{bdocexa}[Dater des nouveautés]
    Pour indiquer la date d'une nouveauté, il suffit d'employer la macro \bdocmacro{bdocdate} comme dans l'exemple suivant où la date doit être donnée au format anglais \texttt{AAAA-MM-JJ}.

    \bdoclatexshow{examples/version-n-change/dating.tex}
\end{bdocexa}


% ------------------ %


\begin{bdocexa}[Versionner et dater des nouveautés]
	L'exemple suivant montre une macro plus complète que la précédente, à savoir \bdocmacro{bdocversion}.

	\bdoclatexshow{examples/version-n-change/versioning.tex}
\end{bdocexa}


\begin{bdocinfo}
    \leavevmode

    \begin{enumerate}
        \item Les macros \bdocmacro{bdocdate} et \bdocmacro{bdocversion} nécessitent deux compilations.

        \item Comme la langue indiquée pour cette documentation est le français, la date dans le rendu final est au format \texttt{JJ/MM/AAAA} alors que dans le code celle-ci devra toujours être donnée au format anglais \texttt{AAAA-MM-JJ}.

        \item Le numéro de version sera du type \texttt{maj.min.bug} ou \texttt{maj.min.bug-extra} avec trois entiers \texttt{maj}, \texttt{min}, \texttt{bug} et un optionnel \texttt{extra} égal à \texttt{alpha}, \texttt{beta} ou \texttt{rc} pour \bdocquote{release candidate}.
    \end{enumerate}
\end{bdocinfo}


\begin{bdocwarning}
	Seul l'emploi du format \bdocinlatex+YYYY-MM-DD+ est vérifié
	\footnote{
		Techniquement, vérifier la validité d'une date, via \LaTeX3, ne présente pas de difficulté.
	},
	et ceci est un choix ! Pourquoi cela ? Tout simplement car dater et versionner des explications doit se faire de façon semi-automatisée afin d'éviter tout bug humain
	\footnote{
		L'auteur de \bdocpack{bdoc} est entrain de mettre en place un ensemble d'outils permettant une telle semi-automatisation.
	}.
\end{bdocwarning}

\end{document}
