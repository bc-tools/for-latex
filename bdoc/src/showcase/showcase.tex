\documentclass[10pt, a4paper]{article}

\input{../preamble.cfg.tex}

\usepackage[lang = french]{../main/main}
\usepackage{../macroenv/macroenv}
\usepackage{../listing/listing}
\usepackage{../focus/focus}

% TESTING LOCAL IMPLEMENTATION %

\usepackage{showcase}


\begin{document}

\section{Un rendu en situation réelle} \label{bdoc-showcase}

\subsection{Avec une bande colorée}

\begin{bdocexa}[Avec les textes par défaut]
    Il peut être utile de montrer un rendu réel directement dans un document.
    Ceci se tape comme suit.

    \bdoclatexinput[code]{examples/showcase/default.tex}

    On obtient alors le rendu suivant
    \footnote{
        La bande est créée sans effort grâce au package \bdocpack{clrstrip}.
    }.

    \medskip

    \input{examples/showcase/default.tex}
\end{bdocexa}


\begin{bdocrem}
    Voir la section \ref{bdoc-latexshow} pour obtenir facilement un code suivi de son rendu réel comme dans l'exemple précédent.
\end{bdocrem}


\begin{bdocnote}
    Il faut savoir qu'en coulisse la macro \bdocmacro{bdocruler} est utilisée.

    \begin{bdoclatex}[std]
        \bdocruler{Un pseudo-titre décoré}{red}
    \end{bdoclatex}
\end{bdocnote}


% ------------------ %


\begin{bdocexa}[Changer la couleur et/ou les textes par défaut]
    \leavevmode

    \bdoclatexinput[code]{examples/showcase/customized.tex}

    Ceci produira ce qui suit.

    \medskip

    \input{examples/showcase/customized.tex}
\end{bdocexa}


\begin{bdocnote}
    \leavevmode

    \begin{itemize}
        \item Les textes explicatifs s'adaptent à la langue choisie lors du chargement de \bdocpack{bdoc}.

        \item Vous avez sûrement noté que l'on n'obtient pas un rouge pur : en coulisse les macros développables \bdocmacro{bdocbackcolor} et \bdocmacro{bdocdarkcolor} sont utilisées pour créer, à partir de la couleur proposée à \bdocenv{bdocshowcase}, celle du fond et celle des titres respectivement.
              Ces macros à un seul argument, la couleur choisie, admettent les codes suivants.

              \begin{bdoclatex}[code]
\NewExpandableDocumentCommand{\bdocbackcolor}{m}{#1!5}

\NewExpandableDocumentCommand{\bdocdarkcolor}{m}{#1!50!black}
              \end{bdoclatex}
    \end{itemize}
\end{bdocnote}


% ------------------ %


\begin{bdocwarn}
    Avec la mise en forme par défaut, si le code \LaTeX\ commence par un crochet ouvrant, il faudra indiquer explicitement une option vide comme dans l'exemple suivant.

    \bdoclatexinput[code]{examples/showcase/hook.tex}

    Ceci produira ce qui suit.

    \medskip

    \input{examples/showcase/hook.tex}
\end{bdocwarn}


% ------------------ %


\subsection{Sans bande colorée}

Le rendu de \bdocenv{bdocshowcase} avec une bande colorée peut parfois ne pas être acceptable malgré le travail fait par \bdocpack{clrstrip}.
Voyons comment contourner ce type de limitation.

\begin{bdocexa}
    L'option booléenne \bdocinlatex{nostripe} sert à ne pas employer \bdocpack{clrstrip}.
    Voici un exemple d'utilisation.

    \bdoclatexinput[code]{examples/showcase/no-clrstrip.tex}

    Ceci produira ce qui suit.

    \medskip

    \input{examples/showcase/no-clrstrip.tex}
\end{bdocexa}


% ------------------ %


\begin{bdocexa}[Changer la couleur et/ou les textes par défaut]
    \leavevmode

    \bdoclatexinput[code]{examples/showcase/no-clrstrip-customized.tex}

    Ceci produira ce qui suit.

    \medskip

    \input{examples/showcase/no-clrstrip-customized.tex}
\end{bdocexa}


% ------------------ %


\subsection{En important le code \LaTeX}

\begin{bdocexa}<nonb>
    Pour obtenir des rendus en important le code depuis un fichier externe, au lieu de le taper, il suffit d'employer la macro \bdocmacro{bdocshowcaseinput} dont l'option reprend la syntaxe de celle de \bdocenv{bdocshowcase} et l'argument obligatoire donne le chemin du fichier.

    \medskip

    Ce qui suit a été obtenu via \bdocinlatex+\bdocshowcaseinput{examples/external.tex}+.

    \medskip

    \bdocshowcaseinput{examples/showcase/external.tex}

    \medskip

    Via \bdocinlatex+\bdocshowcaseinput[color = orange]{examples/external.tex}+ , on change la coloration comme suit.

    \medskip

    \bdocshowcaseinput[color = orange]{examples/showcase/external.tex}
\end{bdocexa}

\end{document}
