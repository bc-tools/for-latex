\input{../doc-header.cfg}

\usepackage{../macroenv/macroenv}
\usepackage{../listing/listing}
\usepackage{../inenglish/inenglish}

% TESTING LOCAL IMPLEMENTATION %

\usepackage[lang = french]{main}


\begin{document}

%\section{Mises en forme générales imposées}

\subsection{Titre et table des matières}

Les packages \bdocpack{titlesec}, \bdocpack{tocbasic} et \bdocpack{bookmark} sont réglés comme suit où la redéfinition de \bdocmacro{thechapter} n'est utile que pour des packages agrégateurs (dont les documentations sont de type livre).

\begin{bdoclatex}[code]
\RequirePackage[raggedright]{titlesec}

% ...
\ifcsundef{chapter}%
          {}%
          {\renewcommand\thechapter{\Alph{chapter}.}}

\renewcommand\thesection{\Roman{section}.}
\renewcommand\thesubsection{\arabic{subsection}.}
\renewcommand\thesubsubsection{\roman{subsubsection}.}

\titleformat{\paragraph}[hang]%
            {\normalfont\normalsize\bfseries}%
            {\theparagraph}{1em}%
            {}

\titlespacing*{\paragraph}%
              {0pt}%
              {3.25ex plus 1ex minus .2ex}%
              {0.5em}

% Source
%    * https://tex.stackexchange.com/a/558025/6880
\DeclareTOCStyleEntries[
    raggedentrytext,
    linefill = \hfill,
    indent   = 0pt,
    dynindent,
    numwidth = 0pt,
    numsep   = 1ex,
    dynnumwidth
]{tocline}{
    chapter,
    section,
    subsection,
    subsubsection,
    paragraph,
    subparagraph
}

\DeclareTOCStyleEntry[indentfollows = chapter]{tocline}{section}
\end{bdoclatex}

\end{document}
